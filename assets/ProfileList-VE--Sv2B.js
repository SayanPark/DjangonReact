import{r as s,j as e,L as p,a as j}from"./index-ByhPRzx3.js";function u(){const[c,o]=s.useState([]),[r,n]=s.useState(!0),[l,d]=s.useState(25);s.useEffect(()=>{(async()=>{try{n(!0);const a=await j.get("user/all/");o(a.data)}catch(a){console.error("Failed to fetch users:",a)}finally{n(!1)}})()},[]);const m=c.slice(0,l),h=()=>{d(t=>t+25)};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"pt-4 p-0",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsx("h2",{className:"text-end d-block mt-1",children:"شهروندان شهرزنان"})})})})}),e.jsx("section",{className:"profile-grid mt-5 mb-5",children:r?e.jsx("p",{children:"Loading authors..."}):e.jsx(e.Fragment,{children:m.map(t=>e.jsxs(p,{to:`/author-profile/${t.id}`,className:"text-center px-1 fade-in",style:{textDecoration:"none",color:"inherit"},children:[e.jsx("div",{className:"avatar avatar-xxl mb-2",children:(()=>{const x=(i=>i&&i.trim()!==""&&i!=="http://127.0.0.1:8000/media/default/default-user.jpg")(t.image)?t.image:"https://i.postimg.cc/RVLb8r7B/K.webp";return e.jsx("img",{className:"avatar-img rounded-circle",style:{width:"100px",height:"100px",objectFit:"cover",margin:"0 auto",display:"block"},src:x,alt:"avatar"})})()}),e.jsx("h5",{children:t.full_name||t.username}),e.jsx("p",{className:"m-0",children:t.bio||t.about||"هیچ متنی یافت نشد"})]},t.id))})}),l<c.length&&!r&&e.jsx("div",{className:"text-center mt-3 mb-5",children:e.jsx("button",{onClick:h,className:"btn btn-primary",children:"مشاهده بیشتر"})})]})}export{u as default};
