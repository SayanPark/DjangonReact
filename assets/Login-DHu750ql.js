import{r,e as p,j as e,L as o,l as g}from"./index-DR9rkQA-.js";function u(){const[a,l]=r.useState({identifier:"",password:""}),[t,c]=r.useState(!1),[d,n]=r.useState(!1),h=p();r.useEffect(()=>{const s=localStorage.getItem("rememberedEmail");s&&(l(i=>({...i,identifier:s})),n(!0))},[]);const m=s=>{l({...a,[s.target.name]:s.target.value})},f=s=>{n(s.target.checked)},x=()=>{l({identifier:"",password:""}),n(!1)},j=async s=>{s.preventDefault(),c(!0);const{error:i}=await g(a.identifier,a.password);i?(alert(JSON.stringify(i)),x()):(d?localStorage.setItem("rememberedEmail",a.identifier):localStorage.removeItem("rememberedEmail"),h("/")),c(!1)};return e.jsx(e.Fragment,{children:e.jsx("section",{className:"container d-flex flex-column vh-100",style:{marginTop:"150px",direction:"rtl"},children:e.jsx("div",{className:"row align-items-center justify-content-center g-0 h-lg-100 py-8",children:e.jsx("div",{className:"col-lg-5 col-md-8 py-8 py-xl-0",children:e.jsx("div",{className:"card shadow",children:e.jsxs("div",{className:"card-body p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"mb-1 fw-bold",children:"وارد شوید"}),e.jsxs("span",{children:["اکانت ندارید؟",e.jsx(o,{to:"/register/",className:"me-1",children:"اینجا ثبت نام کنید"})]})]}),e.jsxs("form",{className:"needs-validation",noValidate:"",onSubmit:j,children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"identifier",className:"form-label",children:"ایمیل"}),e.jsx("input",{type:"text",onChange:m,value:a.identifier,id:"identifier",className:"form-control",name:"identifier",placeholder:"ایمیل خود را وارد کنید",required:""})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"password",className:"form-label",children:"رمز عبور"}),e.jsx("input",{type:"password",onChange:m,value:a.password,id:"password",className:"form-control",name:"password",placeholder:"**************",required:""})]}),e.jsxs("div",{className:"d-lg-flex justify-content-between align-items-center mb-4",children:[e.jsxs("div",{className:"form-check",children:[e.jsx("input",{type:"checkbox",className:"form-check-input",id:"rememberme",checked:d,onChange:f}),e.jsx("label",{className:"form-check-label",htmlFor:"rememberme",children:"مرا بخاطر بسپار"})]}),e.jsx("div",{children:e.jsx(o,{to:"/forgot-password/",children:"رمز عبور خود را فراموش کردید؟"})})]}),e.jsx("div",{children:e.jsx("div",{className:"d-grid",children:e.jsx("button",{className:"btn btn-primary w-100",type:"submit",disabled:t,children:t?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"ms-2 ",children:"صبرکنید"}),e.jsx("i",{className:"fas fa-spinner fa-spin"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"ms-2",children:"ورود"}),e.jsx("i",{className:"fas fa-sign-in-alt"})]})})})})]})]})})})})})})}export{u as default};
