import{r as s,j as e,L as x,a as p}from"./index-D9tFnRVK.js";function j(){const[r,o]=s.useState([]),[i,n]=s.useState(!0),[c,d]=s.useState(25);s.useEffect(()=>{(async()=>{try{n(!0);const t=await p.get("user/all/");o(t.data)}catch(t){console.error("Failed to fetch users:",t)}finally{n(!1)}})()},[]);const m=r.slice(0,c),h=()=>{d(a=>a+25)};return e.jsxs(e.Fragment,{children:[e.jsx("section",{className:"pt-4 p-0",children:e.jsx("div",{className:"container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col",children:e.jsx("h2",{className:"text-end d-block mt-1",children:"شهروندان شهرزنان"})})})})}),e.jsx("section",{className:"profile-grid mt-5 mb-5",children:i?e.jsx("p",{children:"Loading authors..."}):e.jsx(e.Fragment,{children:m.map(a=>e.jsxs(x,{to:`/author-profile/${a.id}`,className:"text-center px-1 fade-in",style:{textDecoration:"none",color:"inherit"},children:[e.jsx("div",{className:"avatar avatar-xxl mb-2",children:(()=>{const t=a.image_url||(a.image&&a.image.trim()!==""&&!a.image.includes("default-user")?a.image:"/K.webp");return e.jsx("img",{className:"avatar-img rounded-circle",style:{width:"100px",height:"100px",objectFit:"cover",margin:"0 auto",display:"block"},src:t,alt:"avatar",onError:l=>{l.target.onerror=null,l.target.src="/K.webp"}})})()}),e.jsx("h5",{children:a.full_name||a.username}),e.jsx("p",{className:"m-0",children:a.bio||a.about||"هیچ متنی یافت نشد"})]},a.id))})}),c<r.length&&!i&&e.jsx("div",{className:"text-center mt-3 mb-5",children:e.jsx("button",{onClick:h,className:"btn btn-primary",children:"مشاهده بیشتر"})})]})}export{j as default};
