import{r as a,j as s,L as t,R as r,a as i}from"./index-DazHO-9P.js";import{u}from"./useUserData-DaPaKrkN.js";import{M as w}from"./Moment-C2Nf-ZNz.js";function F(){const[l,n]=a.useState([]),[o,m]=a.useState([]),[x,h]=a.useState([]),[j,N]=a.useState([]),[y,b]=a.useState([]),d=u()?.user_id,p=async()=>{const e=await i.get(`author/dashboard/stats/${d}/`),c=await i.get(`author/dashboard/post-list/${d}/`),v=await i.get(`author/dashboard/comment-list/${d}/`),f=await i.get("contact-message/list/"),g=await i.get(`author/dashboard/noti-list/${d}/`);n(e?.data[0]),m(c?.data),h(v?.data),N(f?.data),b(g?.data)};return a.useEffect(()=>{p()},[]),s.jsx(s.Fragment,{children:s.jsx("section",{className:"py-4",style:{direction:"rtl"},children:s.jsx("div",{className:"container",children:s.jsxs("div",{className:"row g-4",children:[s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"row g-4",children:[s.jsx("div",{className:"col-sm-6 col-lg-3",children:s.jsx("div",{className:"card card-body border p-3",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"icon-xl fs-1 p-3 bg-success bg-opacity-10 rounded-3 text-success",children:s.jsx("i",{className:"bi bi-people-fill"})}),s.jsxs("div",{className:"me-3",children:[s.jsx("h3",{children:l?.views||"0"}),s.jsx("h6",{className:"mb-0",children:"مجموع بازدید‌ها"})]})]})})}),s.jsx("div",{className:"col-sm-6 col-lg-3",children:s.jsx("div",{className:"card card-body border p-3",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"icon-xl fs-1 p-3 bg-primary bg-opacity-10 rounded-3 text-primary",children:s.jsx("i",{className:"bi bi-file-earmark-text-fill"})}),s.jsxs("div",{className:"me-3",children:[s.jsx("h3",{children:l?.posts||"0"}),s.jsx("h6",{className:"mb-0",children:"تعداد پست‌ها"})]})]})})}),s.jsx("div",{className:"col-sm-6 col-lg-3",children:s.jsx("div",{className:"card card-body border p-3",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"icon-xl fs-1 p-3 bg-danger bg-opacity-10 rounded-3 text-danger",children:s.jsx("i",{className:"bi bi-suit-heart-fill"})}),s.jsxs("div",{className:"me-3",children:[s.jsx("h3",{children:l?.likes||"0"}),s.jsx("h6",{className:"mb-0",children:"مجموع لایک‌ها"})]})]})})}),s.jsx("div",{className:"col-sm-6 col-lg-3",children:s.jsx("div",{className:"card card-body border p-3",children:s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("div",{className:"icon-xl fs-1 p-3 bg-info bg-opacity-10 rounded-3 text-info",children:s.jsx("i",{className:"bi bi-tag"})}),s.jsxs("div",{className:"me-3",children:[s.jsx("h3",{children:l?.bookmarks||"0"}),s.jsx("h6",{className:"mb-0",children:"تعداد ذخیره‌ها"})]})]})})})]})}),s.jsx("div",{className:"col-md-6 col-xxl-4",children:s.jsxs("div",{className:"card border h-100",children:[s.jsxs("div",{className:"card-header border-bottom d-flex justify-content-between align-items-center",style:{paddingTop:"14px",paddingBottom:"14px"},children:[s.jsxs("div",{className:"d-flex align-items-center gap-2",children:[s.jsx("h5",{className:"card-header-title mb-0",children:"آخرین پست‌ها"}),s.jsxs(t,{to:"/add-post/",className:"btn btn-primary btn-sm",role:"button",id:"dropdownShare3",children:["ایجاد پست ",s.jsx("i",{className:"fas fa-plus fa-fw"})]})]}),s.jsx("div",{className:"dropdown text-end",children:s.jsx(t,{to:"/posts/",className:"btn border-0 p-0 mb-0",role:"button",id:"dropdownShare3",children:s.jsx("i",{className:"bi bi-grid-fill text-danger fa-fw"})})})]}),s.jsx("div",{className:"card-body p-3",children:s.jsx("div",{className:"row",children:o?.slice(0,3)?.map((e,c)=>s.jsxs(r.Fragment,{children:[s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex position-relative",children:[s.jsx("img",{className:"w-60 rounded",src:e?.image,style:{width:"100px",height:"110px",objectFit:"cover",borderRadius:"10px"},alt:"product"}),s.jsxs("div",{className:"me-3",children:[s.jsx("a",{href:`/post/${e?.slug}`,className:"h6 stretched-link text-decoration-none text-dark",children:e.title}),s.jsxs("p",{className:"small mb-0 mt-3",children:[s.jsx("i",{className:"fas fa-calendar ms-2"}),w(e.date)]}),s.jsxs("p",{className:"small mb-0",children:[s.jsx("i",{className:"fas fa-eye ms-2"}),e.view]})]})]})}),s.jsx("hr",{className:"my-3"})]},e.id||c))})}),s.jsx("div",{className:"card-footer border-top text-center p-3",children:s.jsx(t,{to:"/posts/",className:"fw-bold text-decoration-none text-primary",children:"مشاهده تمامی پست‌ها"})})]})}),s.jsx("div",{className:"col-md-6 col-xxl-4",children:s.jsxs("div",{className:"card border h-100",children:[s.jsxs("div",{className:"card-header border-bottom d-flex justify-content-between align-items-center  p-3",children:[s.jsx("h5",{className:"card-header-title mb-0",children:"نظرات اخیر"}),s.jsx("div",{className:"dropdown text-end",children:s.jsx(t,{to:"/comments/",className:"btn border-0 p-0 mb-0",role:"button",id:"dropdownShare3",children:s.jsx("i",{className:"bi bi-chat-left-quote-fill text-success fa-fw"})})})]}),s.jsx("div",{className:"card-body p-3",children:s.jsx("div",{className:"row",children:[...x,...j].slice(0,3)?.map((e,c)=>s.jsxs(r.Fragment,{children:[s.jsx("div",{className:"col-12",children:s.jsxs("div",{className:"d-flex align-items-center position-relative",children:[s.jsx("div",{className:"avatar avatar-lg flex-shrink-0",children:s.jsx("img",{className:"avatar-img",src:e?.image||"/K.webp",style:{width:"100px",height:"100px",objectFit:"cover",borderRadius:"50%"},alt:"avatar"})}),s.jsxs("div",{className:"me-3",children:[s.jsxs("p",{className:"mb-1",children:[" ",s.jsxs(t,{to:e?.message?"/comments/":"#",className:"h6 stretched-link text-decoration-none text-dark",children:[" ",e?.comment||e?.message]})]}),s.jsx("div",{className:"d-flex justify-content-between",children:s.jsxs("p",{className:"small mb-0",children:[s.jsx("i",{className:e?.message?"fa fa-envelope text-warning":"bi bi-chat-left-quote-fill text-success"}),s.jsx("i",{className:"me-1",children:"توسط "}),e?.name,e?.message&&s.jsx("span",{className:"text-warning fw-bold",children:" (پیام تماس) "})]})})]})]})}),s.jsx("hr",{className:"my-3"})]},e.id||c))})}),s.jsx("div",{className:"card-footer border-top text-center p-3",children:s.jsx(t,{to:"/comments/",className:"fw-bold text-decoration-none text-primary",children:"مشاهده تمامی نظرات"})})]})})]})})})})}export{F as default};
