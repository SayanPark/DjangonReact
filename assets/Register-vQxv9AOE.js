import{r as t,e as h,j as e,L as f,s as p}from"./index-ByhPRzx3.js";import r from"./Toast-PoSJhLwt.js";function N(){const[i,l]=t.useState({email:""}),[c,n]=t.useState(!1),d=h(),m=s=>{l({...i,[s.target.name]:s.target.value})},o=()=>{l({email:""})},u=s=>{if(!s)return"";const a=typeof s=="string"?s:s.message||JSON.stringify(s);return a.includes("User already exists")||a.includes("این ایمیل قبلا ثبت شده است")||a.includes("Request failed with status code 400")?"این ایمیل قبلا ثبت شده است":a.includes("Invalid email")?"ایمیل وارد شده معتبر نیست.":a.includes("Network Error")?"خطای شبکه. لطفا اتصال اینترنت خود را بررسی کنید.":"خطایی رخ داده است: "+a},x=async s=>{s.preventDefault(),n(!0);const{error:a}=await p(i.email);a?(r("error",u(a)),o()):(r("success","ایمیل تایید ثبت نام ارسال شد. لطفا ایمیل خود را بررسی کنید."),d("/")),n(!1)};return e.jsx(e.Fragment,{children:e.jsx("section",{className:"container d-flex flex-column vh-100",style:{marginTop:"150px",direction:"rtl"},children:e.jsx("div",{className:"row align-items-center justify-content-center g-0 h-lg-100 py-8",children:e.jsx("div",{className:"col-lg-5 col-md-8 py-8 py-xl-0",children:e.jsx("div",{className:"card shadow",children:e.jsxs("div",{className:"card-body p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h1",{className:"mb-1 fw-bold",children:"ثبت نام کنید"}),e.jsxs("span",{children:["قبلا عضو شدید؟",e.jsx(f,{to:"/login/",className:"me-1",children:"اینجا کلیک کنید"})]})]}),e.jsxs("form",{onSubmit:x,className:"needs-validation",noValidate:"",children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{htmlFor:"email",className:"form-label",children:"ایمیل خود را وارد کنید"}),e.jsx("input",{type:"email",id:"email",className:"form-control",onChange:m,value:i.email,name:"email",placeholder:"ایمیل",required:""}),e.jsx("div",{className:"invalid-feedback",children:"لطفا ایمیل معتبر وارد کنید."})]}),e.jsx("div",{children:e.jsx("div",{className:"d-grid",children:c===!0?e.jsxs("button",{disabled:!0,type:"submit",className:"btn btn-primary",children:["صبر کنید ",e.jsx("i",{className:"fas fa-spinner fa-spin"})]}):e.jsxs("button",{type:"submit",className:"btn btn-primary",children:["ثبت نام ",e.jsx("i",{className:"fas fa-user-plus"})]})})})]})]})})})})})})}export{N as default};
