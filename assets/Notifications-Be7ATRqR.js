import{r as l,j as s,a as n}from"./index-D9XFb3fJ.js";import{u as m}from"./useUserData-D_GYG0ED.js";import{M as h}from"./Moment-EJ3tJAMh.js";import i from"./Toast-zgAXI2bR.js";function u(){const[c,d]=l.useState([]),t=m()?.user_id,r=async()=>{try{if(!t)return;const e=await n.get(`author/dashboard/noti-list/${t}/`);d(e?.data)}catch(e){console.log(e)}},o=async e=>{try{const a=await n.post("author/dashboard/noti-mark-seen/",{noti_id:e});console.log(a.data),r(),i("success","نوتیفیکشن دیده شد")}catch(a){a.response&&a.response.status===401?i("error","شما اجازه دسترسی ندارید. لطفا وارد شوید."):i("error","خطا در علامت گذاری نوتیفیکیشن به عنوان دیده شده")}};return l.useEffect(()=>{r()},[t]),s.jsx(s.Fragment,{children:s.jsx("section",{className:"pt-5 pb-5",dir:"rtl",children:s.jsx("div",{className:"container",children:s.jsx("div",{className:"row mt-0 mt-md-4",children:s.jsx("div",{className:"col-lg-12 col-md-8 col-12",children:s.jsxs("div",{className:"card mb-4",children:[s.jsx("div",{className:"card-header d-lg-flex align-items-center justify-content-between",children:s.jsx("div",{className:"mb-3 mb-lg-0 text-end",children:s.jsx("h3",{className:"mb-0",children:"اعلانات"})})}),s.jsx("div",{className:"card-body",children:s.jsx("ul",{className:"list-group list-group-flush",style:{paddingRight:0},children:c?.length>0?c.map((e,a)=>s.jsx("li",{className:"list-group-item p-4 shadow rounded-3 mt-4",children:s.jsx("div",{className:"d-flex",children:s.jsxs("div",{className:"me-3 mt-2",children:[s.jsx("div",{className:"d-flex align-items-center justify-content-between",children:s.jsx("div",{children:s.jsxs("div",{className:"mb-0",children:[e.type==="Like"&&s.jsxs(s.Fragment,{children:[s.jsxs("h4",{children:[s.jsx("i",{className:"fa fa-heart text-danger fs-5"})," لایک جدید"]}),s.jsxs("p",{className:"mt-3",children:["یک نفر پست شمارا لایک کرد. ",s.jsx("b",{children:e?.post?.title})]})]}),e.type==="Comment"&&s.jsxs(s.Fragment,{children:[s.jsxs("h4",{children:[s.jsx("i",{className:"bi bi-chat-left-quote-fill text-success fs-5"})," نظر جدید"]}),s.jsxs("p",{className:"mt-3",children:["یک نفر برای پست شما نظر گذاشت. ",s.jsx("b",{children:e?.post?.title})]})]}),e.type==="Bookmark"&&s.jsxs(s.Fragment,{children:[s.jsxs("h4",{children:[s.jsx("i",{className:"fa fa-bookmark text-primary fs-5"})," ذخیره‌ جدید"]}),s.jsxs("p",{className:"mt-3",children:["یک نفر پست شمارا ذخیره‌ کرد. ",s.jsx("b",{children:e?.post?.title})]})]}),e.type==="ContactMessage"&&s.jsxs(s.Fragment,{children:[s.jsxs("h4",{children:[s.jsx("i",{className:"fa fa-envelope text-warning fs-5"})," پیام جدید از کاربر"]}),s.jsx("p",{className:"mt-3",children:"یک پیام جدید از کاربر دریافت کردید. لطفا پاسخ دهید."})]})]})})}),s.jsxs("div",{className:"mt-2",children:[s.jsx("p",{className:"mt-1",children:s.jsxs("span",{className:"ms-2 fw-bold",children:["تاریخ: ",s.jsx("span",{className:"fw-light",children:h(e?.date)})]})}),s.jsx("p",{children:s.jsxs("button",{onClick:()=>o(e?.id),className:"btn btn-outline-secondary",type:"button",children:["Mark as Seen ",s.jsx("i",{className:"fas fa-check"})]})})]})]})})},e.id)):s.jsx("p",{className:"d-flex align-items-center justify-content-center",children:"هیچ اعلان جدیدی نیست."})})})]})})})})})})}export{u as default};
